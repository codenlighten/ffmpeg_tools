<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFmpeg Server Tools</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-video"></i> FFmpeg Server Tools</h1>
            <p>Complete media processing toolkit</p>
        </header>

        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="upload">
                <i class="fas fa-upload"></i> Upload
            </button>
            <button class="tab-btn" data-tab="convert">
                <i class="fas fa-exchange-alt"></i> Convert
            </button>
            <button class="tab-btn" data-tab="edit">
                <i class="fas fa-cut"></i> Edit
            </button>
            <button class="tab-btn" data-tab="filters">
                <i class="fas fa-magic"></i> Filters
            </button>
            <button class="tab-btn" data-tab="info">
                <i class="fas fa-info-circle"></i> Info
            </button>
            <button class="tab-btn" data-tab="jobs">
                <i class="fas fa-tasks"></i> Jobs
            </button>
        </nav>

        <!-- Upload Tab -->
        <div class="tab-content active" id="upload">
            <div class="upload-area" id="uploadArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <h3>Drop files here or click to browse</h3>
                <p>Supported formats: MP4, AVI, MOV, WMV, FLV, WebM, MKV, GIF, MP3, WAV, AAC, FLAC, OGG</p>
                <input type="file" id="fileInput" accept="video/*,audio/*" multiple hidden>
            </div>
            
            <div class="file-list" id="uploadedFiles">
                <h3>Uploaded Files</h3>
                <div id="filesList"></div>
            </div>
        </div>

        <!-- Convert Tab -->
        <div class="tab-content" id="convert">
            <div class="form-section">
                <h3>Media Conversion</h3>
                <form id="convertForm">
                    <div class="form-group">
                        <label for="inputFileSelect">Input File:</label>
                        <select id="inputFileSelect" name="inputFileSelect" required>
                            <option value="">Select a file...</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="outputFormat">Output Format:</label>
                        <select id="outputFormat" name="outputFormat" required>
                            <option value="">Select format...</option>
                            <option value="mp4">MP4</option>
                            <option value="avi">AVI</option>
                            <option value="mov">MOV</option>
                            <option value="webm">WebM</option>
                            <option value="mkv">MKV</option>
                            <option value="gif">GIF</option>
                            <option value="mp3">MP3</option>
                            <option value="wav">WAV</option>
                            <option value="aac">AAC</option>
                            <option value="flac">FLAC</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="videoCodec">Video Codec:</label>
                            <select id="videoCodec" name="videoCodec">
                                <option value="">Auto</option>
                                <option value="libx264">H.264</option>
                                <option value="libx265">H.265</option>
                                <option value="libvpx">VP8</option>
                                <option value="libvpx-vp9">VP9</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="audioCodec">Audio Codec:</label>
                            <select id="audioCodec" name="audioCodec">
                                <option value="">Auto</option>
                                <option value="aac">AAC</option>
                                <option value="mp3">MP3</option>
                                <option value="libvorbis">Vorbis</option>
                                <option value="flac">FLAC</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="videoBitrate">Video Bitrate:</label>
                            <input type="text" id="videoBitrate" name="videoBitrate" placeholder="e.g., 1000k">
                        </div>
                        
                        <div class="form-group">
                            <label for="audioBitrate">Audio Bitrate:</label>
                            <input type="text" id="audioBitrate" name="audioBitrate" placeholder="e.g., 128k">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="resolution">Resolution:</label>
                        <select id="resolution" name="resolution">
                            <option value="">Keep original</option>
                            <option value="1920x1080">1920x1080 (1080p)</option>
                            <option value="1280x720">1280x720 (720p)</option>
                            <option value="854x480">854x480 (480p)</option>
                            <option value="640x360">640x360 (360p)</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-play"></i> Start Conversion
                    </button>
                </form>
            </div>
        </div>

        <!-- Edit Tab -->
        <div class="tab-content" id="edit">
            <div class="form-section">
                <h3>Video Editing</h3>
                
                <!-- Trim Section -->
                <div class="edit-section">
                    <h4><i class="fas fa-cut"></i> Trim Video</h4>
                    <form id="trimForm">
                        <div class="form-group">
                            <label for="trimInputFile">Input File:</label>
                            <select id="trimInputFile" name="trimInputFile" required>
                                <option value="">Select a file...</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="startTime">Start Time (HH:MM:SS):</label>
                                <input type="text" id="startTime" name="startTime" placeholder="00:00:30" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="duration">Duration (HH:MM:SS):</label>
                                <input type="text" id="duration" name="duration" placeholder="00:01:00" required>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-cut"></i> Trim Video
                        </button>
                    </form>
                </div>

                <!-- Merge Section -->
                <div class="edit-section">
                    <h4><i class="fas fa-layer-group"></i> Merge Videos</h4>
                    <form id="mergeForm">
                        <div class="form-group">
                            <label>Select Files to Merge:</label>
                            <div id="mergeFilesList" class="checkbox-list">
                                <!-- Files will be populated here -->
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-layer-group"></i> Merge Videos
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Filters Tab -->
        <div class="tab-content" id="filters">
            <div class="form-section">
                <h3>Advanced Video Filters</h3>
                
                <!-- Thumbnail Generation -->
                <div class="filter-section">
                    <h4><i class="fas fa-image"></i> Generate Thumbnail</h4>
                    <form id="thumbnailForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="thumbInputFile">Input File:</label>
                                <select id="thumbInputFile" name="thumbInputFile" required>
                                    <option value="">Select a video...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="thumbTimestamp">Timestamp (HH:MM:SS):</label>
                                <input type="text" id="thumbTimestamp" name="thumbTimestamp" placeholder="00:00:01" value="00:00:01">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-image"></i> Generate Thumbnail
                        </button>
                    </form>
                    <div id="thumbnailPreview" class="thumbnail-preview"></div>
                </div>

                <!-- Video Filters -->
                <div class="filter-section">
                    <h4><i class="fas fa-magic"></i> Apply Video Filters</h4>
                    <form id="filterForm">
                        <div class="form-group">
                            <label for="filterInputFile">Input File:</label>
                            <select id="filterInputFile" name="filterInputFile" required>
                                <option value="">Select a video...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="filterType">Filter Type:</label>
                            <select id="filterType" name="filterType" required>
                                <option value="">Select filter...</option>
                                <option value="watermark">Text Watermark</option>
                                <option value="blur">Blur Effect</option>
                                <option value="brightness">Brightness Adjustment</option>
                                <option value="contrast">Contrast Adjustment</option>
                                <option value="saturation">Saturation Adjustment</option>
                                <option value="speed">Speed Adjustment</option>
                                <option value="stabilize">Video Stabilization</option>
                                <option value="noise_reduction">Noise Reduction</option>
                            </select>
                        </div>

                        <!-- Dynamic filter options -->
                        <div id="filterOptions" class="filter-options"></div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-magic"></i> Apply Filter
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Info Tab -->
        <div class="tab-content" id="info">
            <div class="form-section">
                <h3>Media Information</h3>
                <div class="form-group">
                    <label for="infoFileSelect">Select File:</label>
                    <select id="infoFileSelect" name="infoFileSelect">
                        <option value="">Select a file...</option>
                    </select>
                </div>
                <button id="getInfoBtn" class="btn btn-primary">
                    <i class="fas fa-info-circle"></i> Get Media Info
                </button>
                
                <div id="mediaInfo" class="info-display"></div>
            </div>
        </div>

        <!-- Jobs Tab -->
        <div class="tab-content" id="jobs">
            <div class="jobs-section">
                <h3>Processing Jobs</h3>
                <button id="refreshJobsBtn" class="btn btn-secondary">
                    <i class="fas fa-sync"></i> Refresh
                </button>
                <div id="jobsList" class="jobs-list"></div>
            </div>
        </div>

        <!-- Progress Modal -->
        <div id="progressModal" class="modal">
            <div class="modal-content">
                <h3>Processing...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div id="progressText">0%</div>
                <div id="progressStatus">Starting...</div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
